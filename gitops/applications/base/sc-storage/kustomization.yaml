apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  - namespace.yaml
  - objectstore-certs.yaml
  - ceph-cluster-crs.yaml
  - ceph-blockpools-crs.yaml
  - ceph-objectstore-crs.yaml
  - ceph-filsystem-crs.yaml
  - storage-classes.yaml
  - ceph-objectstore-service.yaml
  - rbac.yaml
  - rgw-endpoint-job.yaml
  - https://raw.githubusercontent.com/rook/rook/refs/tags/v${ARGOCD_ENV_rook_ceph_version}/deploy/examples/toolbox.yaml
  - kyverno-policy.yaml

helmCharts:
  - name: rook-ceph
    releaseName: rook-ceph
    version: ${ARGOCD_ENV_rook_ceph_version}
    repo: https://charts.rook.io/release
    valuesFile: rook-ceph-values.yaml
    namespace: ${ARGOCD_ENV_storage_namespace}
    includeCRDs: true
