apiVersion: sc.infitx.org/v1alpha1
kind: XNBOperatorInstall
metadata:
  name: sc-nboperatorinstall
  namespace: default
spec:
  parameters:
    serviceUserName: sc-service-user
    accessTokenExpiresInDays: 5
    nbManagmentURI: https://netbird.${ARGOCD_ENV_zitadel_dns_subdomain}:443
    operatorHelmVersion: 0.1.7
    operatorNamespace: ${ARGOCD_ENV_netbird_namespace}
    operatorArgoAppName: nb-op
    operatorArgoAppSourceURL: https://github.com//mojaloop/iac-modules.git
    operatorArgoAppSourceRevision: "feature/storage-cluster"
    localAccessTokenSecretName: nb-op-access-token
    localAccessTokenSecretNamespace: default
    operatorKubeapiGroup: ${ARGOCD_ENV_security_netbird_rbac_admin_group}
    netbirdProjectIdSecretName: netbird-management
    netbirdProjectIdSecretNamespace: ${ARGOCD_ENV_netbird_namespace}
    netbirdProjectIdSecretKey: netbird_project_id
  providerConfigsRef:
    netbirdProviderConfigName: "netbird-crossplane-provider-config"
    ccK8sProviderName: "kubernetes-provider"
    scK8sProviderName: "sc-kubernetes-provider"
  managementPolicies:
    - "*"
