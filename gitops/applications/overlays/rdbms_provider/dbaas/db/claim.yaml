apiVersion: sc.mojaloop.io/v1alpha1
kind: PGCluster
metadata:
  name: ${ARGOCD_ENV_db_name}
  namespace: ${ARGOCD_ENV_namespace}
spec:
  parameters:
    consumerClusterType: controlcenter #${ARGOCD_ENV_cluster_type} #TODO
    clusterName: ${ARGOCD_ENV_cluster_name}
    externalServiceName: ${ARGOCD_ENV_externalservice_name}
    appNamespace: ${ARGOCD_ENV_namespace}
    postgres:
      crVersion: "2.5.0"
      pgVersion: 16
      dbUsername: ${ARGOCD_ENV_db_username}
      dbName: ${ARGOCD_ENV_db_name}
      dbSecret: ${ARGOCD_ENV_db_secret}
      replicas: ${ARGOCD_ENV_postgres_replicas}
      storageSize: ${ARGOCD_ENV_postgres_storage_size}

  providerConfigsRef:
    scK8sProviderName: sc-kubernetes-provider
    ccK8sProviderName: kubernetes-provider
  managementPolicies:
    - "*"
